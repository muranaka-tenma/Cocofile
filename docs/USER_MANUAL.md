# CocoFile（ココファイル） - ユーザーマニュアル

**バージョン**: 0.1.0 (MVP)
**最終更新日**: 2025年11月5日

---

## 目次

1. [CocoFileとは](#cocofileとは)
2. [インストール](#インストール)
3. [初回セットアップ](#初回セットアップ)
4. [基本操作ガイド](#基本操作ガイド)
5. [ホットキー](#ホットキー)
6. [トラブルシューティング](#トラブルシューティング)
7. [よくある質問](#よくある質問)

---

## CocoFileとは

CocoFile（ココファイル）は、**完全ローカル動作**のファイル管理デスクトップアプリケーションです。

### 主な機能

- **高速全文検索**: PDF、Excel、Word、PowerPointファイルの内容を検索
- **日本語対応**: N-gram全文検索エンジンによる部分一致検索
- **タグ管理**: ファイルにタグを付けて整理
- **重複ファイル検出**: ハッシュ値によるファイル重複検出
- **お気に入り**: よく使うファイルをお気に入りに登録
- **完全オフライン**: データは一切外部に送信されません

### 対応ファイル形式

- PDF（.pdf）
- Excel（.xlsx、.xls）
- Word（.docx）
- PowerPoint（.pptx）

### 対応プラットフォーム

- Windows 10/11
- macOS（Catalina以降）
- Linux Desktop（Ubuntu、Fedora等）

---

## インストール

### システム要件

- **OS**: Windows 10/11、macOS Catalina以降、Linux Desktop
- **メモリ**: 最小2GB（推奨4GB以上）
- **ストレージ**: 100MB以上の空き容量
- **ディスプレイ**: 1280x720以上の解像度

### インストール手順

#### Linux（開発版）

現在、Linux用のプロダクションビルドが利用可能です。

1. **バイナリのダウンロード**（GitHubリリースページから）
2. **実行権限の付与**:
   ```bash
   chmod +x cocofile
   ```
3. **アプリケーションの起動**:
   ```bash
   ./cocofile
   ```

#### Windows / macOS

インストーラー版は今後のリリースで提供予定です。
現在は開発版をビルドして使用してください（詳細はSETUP.mdを参照）。

---

## 初回セットアップ

### 1. アプリケーションの起動

初回起動時には自動的にデータベースが作成されます。

**データベースの保存場所**:
- Linux: `~/.local/share/cocofile/cocofile.db`
- macOS: `~/Library/Application Support/cocofile/cocofile.db`
- Windows: `%APPDATA%\cocofile\cocofile.db`

### 2. 監視フォルダの設定

ファイルをインデックス化するフォルダを設定します。

1. 画面上部の「設定」タブをクリック
2. 「監視フォルダ」セクションで「フォルダを追加」ボタンをクリック
3. インデックス化したいフォルダを選択
4. 「保存」ボタンをクリック

**推奨設定**:
- ドキュメントフォルダ（`~/Documents`）
- デスクトップフォルダ（`~/Desktop`）
- プロジェクトフォルダ

**注意事項**:
- システムフォルダ（C:\Windows、/System等）は避けてください
- 大量のファイル（10万ファイル以上）がある場合は時間がかかります

### 3. 初回スキャンの実行

フォルダ設定後、初回スキャンを実行します。

1. 画面上部の「スキャン」タブをクリック
2. 設定したフォルダが一覧に表示されていることを確認
3. 「スキャン開始」ボタンをクリック
4. 進捗バーが表示され、インデックス化が開始されます
5. 完了後、「○○ファイルをインデックス化しました」と表示されます

**スキャン時間の目安**:
- 100ファイル: 約30秒
- 1,000ファイル: 約5分
- 10,000ファイル: 約30-60分

---

## 基本操作ガイド

### メイン検索画面（S-001）

CocoFileのメイン機能である検索画面です。

#### 検索方法

1. **キーワード検索**:
   - 検索ボックスにキーワードを入力
   - 日本語の部分一致検索に対応（N-gram）
   - 例: 「売上」で検索すると「売上データ2024.xlsx」がヒット

2. **フィルター機能**:
   - **ファイルタイプ**: PDF、Excel、Word、PowerPointで絞り込み
   - **日付範囲**: 作成日・更新日で絞り込み（今後のアップデートで実装予定）
   - **タグ**: タグで絞り込み

3. **タブ切り替え**:
   - **検索結果**: 検索したファイル一覧
   - **お気に入り**: お気に入り登録したファイル
   - **最近使用**: 最近開いたファイル

#### 検索結果の操作

- **ファイルを開く**: ファイル名をクリック
- **フォルダを開く**: フォルダアイコンをクリック
- **お気に入り登録**: 星アイコンをクリック
- **詳細表示**: ファイル行をクリック（ファイル詳細モーダルが開く）

### スキャン・インデックス管理画面（S-003）

ファイルのインデックス化を管理する画面です。

#### 手動スキャン

1. 「フォルダを選択」ボタンをクリック
2. スキャンしたいフォルダを選択
3. 「スキャン開始」ボタンをクリック
4. 進捗バーでスキャン状況を確認

#### インデックス統計

現在インデックス化されているファイル数を確認できます。

- **総ファイル数**: インデックス化されているファイル数
- **PDF**: PDFファイル数
- **Excel**: Excelファイル数
- **Word**: Wordファイル数
- **PowerPoint**: PowerPointファイル数

#### 重複ファイル検出

ハッシュ値を使用して重複ファイルを検出します。

1. 「重複検出」ボタンをクリック
2. 重複ファイル一覧が表示されます
3. 不要なファイルを削除できます

### 設定画面（S-002）

アプリケーションの設定を行う画面です。

#### 監視フォルダ管理

- **フォルダ追加**: 「フォルダを追加」ボタンでフォルダを追加
- **フォルダ削除**: ゴミ箱アイコンでフォルダを削除
- **自動スキャン**: フォルダ内のファイル変更を自動検出（今後実装予定）

#### UI設定

- **テーマ**: ライト/ダークモード（今後実装予定）
- **言語**: 日本語/英語（今後実装予定）
- **ウィンドウサイズ**: ウィンドウの初期サイズ設定（今後実装予定）

#### タグ辞書

- **タグ追加**: 新しいタグを作成
- **タグカラー**: タグの表示色を設定
- **タグルール**: 自動タグ付けルールを設定

### タグ管理画面（S-004）

タグの一括管理を行う画面です。

#### タグの作成

1. 「新しいタグを追加」ボタンをクリック
2. タグ名を入力
3. カラーピッカーで色を選択
4. 「保存」ボタンをクリック

#### タグの編集

1. タグ一覧から編集したいタグを選択
2. タグ名を変更
3. カラーを変更
4. 「保存」ボタンをクリック

#### タグの統合

複数のタグを1つに統合できます。

1. 統合元のタグを選択
2. 統合先のタグを選択
3. 「統合」ボタンをクリック

### ファイル詳細モーダル（S-005）

ファイルの詳細情報を表示するモーダルです。

#### 表示内容

- **ファイル名**: ファイルの名前
- **ファイルパス**: ファイルの保存場所
- **ファイルサイズ**: ファイルのサイズ
- **作成日時**: ファイルの作成日時
- **更新日時**: ファイルの最終更新日時
- **ファイルタイプ**: PDF、Excel等
- **抽出テキスト**: ファイル内容のプレビュー
- **タグ**: 付与されているタグ

#### 操作

- **タグ追加**: タグを追加
- **タグ削除**: タグを削除
- **ファイルを開く**: ファイルを既定のアプリで開く
- **フォルダを開く**: ファイルの保存フォルダを開く

---

## ホットキー

CocoFileはグローバルホットキーをサポートしています。

### Ctrl+Shift+F（Windows/Linux）

- **機能**: ウィンドウの表示/非表示切り替え
- **使い方**:
  1. 他のアプリを使用中に **Ctrl+Shift+F** を押す
  2. CocoFileウィンドウが前面に表示される
  3. もう一度 **Ctrl+Shift+F** を押すとウィンドウが非表示になる

### Cmd+Shift+F（macOS）

- **機能**: ウィンドウの表示/非表示切り替え
- **使い方**: Windows/Linuxと同じ

### ホットキーの変更

現在のバージョンではホットキーの変更はできません。
今後のアップデートで対応予定です。

---

## トラブルシューティング

### アプリケーションが起動しない

#### Linux環境
- **原因**: 実行権限がない
- **解決方法**:
  ```bash
  chmod +x cocofile
  ./cocofile
  ```

#### WSL2環境
- **原因**: X11サーバーが起動していない
- **解決方法**: VcXsrv、X410等のX11サーバーを起動してください

#### macOS環境
- **原因**: セキュリティ設定によるブロック
- **解決方法**:
  1. システム環境設定 > セキュリティとプライバシー
  2. 「一般」タブで「このまま開く」をクリック

### 検索結果が表示されない

#### 原因1: フォルダがスキャンされていない
- **解決方法**: スキャン画面でフォルダをスキャンしてください

#### 原因2: ファイルが対応形式ではない
- **解決方法**: 対応形式（PDF、Excel、Word、PowerPoint）を確認してください

#### 原因3: データベースが破損している
- **解決方法**:
  1. アプリケーションを終了
  2. データベースファイルを削除
     - Linux: `rm ~/.local/share/cocofile/cocofile.db`
     - macOS: `rm ~/Library/Application\ Support/cocofile/cocofile.db`
     - Windows: `del %APPDATA%\cocofile\cocofile.db`
  3. アプリケーションを再起動
  4. 再度スキャンを実行

### ファイルが開けない

#### 原因1: ファイルが移動・削除されている
- **解決方法**: ファイルパスを確認し、再度スキャンを実行してください

#### 原因2: ファイルへのアクセス権限がない
- **解決方法**: ファイルのアクセス権限を確認してください

#### 原因3: 既定のアプリが設定されていない
- **解決方法**: ファイル形式に対応した既定のアプリを設定してください

### ホットキーが動作しない

#### 原因1: 他のアプリが同じショートカットを使用している
- **解決方法**: 競合しているアプリのショートカットを変更してください

#### 原因2: ホットキー登録に失敗している
- **解決方法**: アプリケーションを再起動してください

### スキャンが遅い

#### 原因1: 大量のファイルがある
- **解決方法**:
  - スキャンするフォルダを分割する
  - 不要なフォルダをスキャン対象から除外する

#### 原因2: 大きなファイルがある
- **解決方法**: 100MB以上のファイルはスキャンに時間がかかります

### メモリ使用量が多い

#### 原因: 大量のファイルをインデックス化している
- **解決方法**:
  - 不要なフォルダをスキャン対象から除外する
  - インデックス数を10万ファイル以下に抑える

---

## よくある質問

### Q1. データはどこに保存されますか？

**A**: 全てローカルに保存されます。外部に送信されることはありません。

**データベース保存場所**:
- Linux: `~/.local/share/cocofile/cocofile.db`
- macOS: `~/Library/Application Support/cocofile/cocofile.db`
- Windows: `%APPDATA%\cocofile\cocofile.db`

**ログファイル保存場所**:
- Linux: `~/.config/CocoFile/logs/cocofile.log`
- macOS: `~/Library/Application Support/CocoFile/logs/cocofile.log`
- Windows: `C:\Users\{USER}\AppData\Roaming\CocoFile\logs\cocofile.log`

### Q2. インターネット接続は必要ですか？

**A**: いいえ、完全オフラインで動作します。

### Q3. ファイルの内容は変更されますか？

**A**: いいえ、CocoFileは読み取り専用です。ファイルを変更することはありません。

### Q4. 何ファイルまでインデックス化できますか？

**A**: 約10万ファイルまで対応しています。それ以上の場合はパフォーマンスが低下する可能性があります。

### Q5. クラウドストレージのファイルは検索できますか？

**A**: 現在のバージョンではローカルに同期されたファイルのみ検索できます。
OneDrive、Google Drive等のクラウドストレージは、ローカルフォルダに同期されていれば検索可能です。

### Q6. OCR（画像内テキスト認識）に対応していますか？

**A**: 現在のバージョン（v0.1.0）では対応していません。今後のアップデートで対応予定です。

### Q7. 複数のPCで同じデータベースを使用できますか？

**A**: 現在のバージョンではできません。各PCで独立したデータベースを使用してください。

### Q8. バックアップはどうすればいいですか？

**A**: データベースファイルをコピーしてバックアップしてください。

**バックアップ手順**:
```bash
# Linux
cp ~/.local/share/cocofile/cocofile.db ~/backup/cocofile.db.backup

# macOS
cp ~/Library/Application\ Support/cocofile/cocofile.db ~/backup/cocofile.db.backup

# Windows
copy %APPDATA%\cocofile\cocofile.db %USERPROFILE%\backup\cocofile.db.backup
```

### Q9. アンインストール方法は？

**A**: アプリケーションファイルとデータベースファイルを削除してください。

**Linux**:
```bash
rm /path/to/cocofile
rm -rf ~/.local/share/cocofile
rm -rf ~/.config/CocoFile
```

**macOS**:
```bash
rm /Applications/CocoFile.app
rm -rf ~/Library/Application\ Support/cocofile
rm -rf ~/Library/Application\ Support/CocoFile
```

**Windows**:
1. アプリケーションをアンインストール
2. `%APPDATA%\cocofile` フォルダを削除
3. `%APPDATA%\CocoFile` フォルダを削除

### Q10. 次のアップデートはいつですか？

**A**: 開発状況はGitHubリポジトリで確認できます。
次の主要アップデート（v0.2.0）は2025年12月頃を予定しています。

---

## サポート

### バグ報告・機能要望

- **GitHub Issues**: https://github.com/yourusername/CocoFile/issues
- **ログファイル**: 問題が発生した場合はログファイルを添付してください

### 関連ドキュメント

- [README.md](../README.md) - プロジェクト概要
- [SETUP.md](../SETUP.md) - 開発環境構築ガイド
- [RELEASE_NOTES_v0.1.0.md](./RELEASE_NOTES_v0.1.0.md) - リリースノート

---

**作成日**: 2025年11月5日
**バージョン**: 0.1.0 (MVP)
**プロジェクト**: CocoFile（ココファイル）
**愛称**: ココ
