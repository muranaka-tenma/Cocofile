# CocoFile - Phase 13: v0.2.0 開発

**作成日**: 2025年11月10日
**予定期間**: 1-2ヶ月
**前フェーズ**: Phase 12（フィードバック収集） 🔄
**ステータス**: 📝 計画中

---

## 🎯 Phase 13の目標

Phase 12のベータテストフィードバックを基に、v0.2.0として以下を実現します：

### 主要な目標

1. **新機能の追加**
   - ファイルプレビュー機能
   - 高度な検索機能（正規表現）
   - 日付範囲フィルターUI
   - 自動スキャン機能

2. **品質改善**
   - ベータテストで発見されたバグの修正
   - パフォーマンス最適化
   - UI/UXの改善

3. **プラットフォーム強化**
   - macOS コード署名
   - Apple Silicon Universal Binary
   - Windows コード署名（検討）

4. **安定版リリース**
   - v0.2.0 正式リリース
   - ドキュメント完備

---

## 📋 タスクリスト

### 1. ベータフィードバック分析（Week 1）

#### 1.1 フィードバック集計
- [ ] バグレポートの分類
- [ ] 機能要望の優先度付け
- [ ] パフォーマンスデータの分析
- [ ] ユーザー満足度の集計

#### 1.2 優先順位決定
- [ ] Critical バグのリストアップ
- [ ] v0.2.0で実装する機能の選定
- [ ] v0.3.0以降に延期する項目の決定

---

### 2. 新機能開発（Week 2-6）

#### 2.1 ファイルプレビュー機能

**概要**: 検索結果からファイルの内容をプレビュー表示

**タスク**:
- [ ] プレビューモーダルのUI設計
- [ ] PDF プレビュー実装（pdf.js）
- [ ] テキストファイルプレビュー
- [ ] 画像プレビュー
- [ ] Office ファイルのプレビュー（サムネイル）

**技術スタック**:
- `pdf.js` - PDF レンダリング
- `react-pdf` - React統合

**推定工数**: 1週間

#### 2.2 正規表現検索機能

**概要**: 高度な検索パターンに対応

**タスク**:
- [ ] 正規表現入力UI
- [ ] 正規表現バリデーション
- [ ] 検索エンジン拡張（regex mode）
- [ ] パフォーマンス最適化
- [ ] エラーハンドリング

**技術スタック**:
- `regex` crate (Rust)
- `re` module (Python)

**推定工数**: 3-4日

#### 2.3 日付範囲フィルターUI

**概要**: ファイルの作成日・更新日でフィルタリング

**タスク**:
- [ ] DatePicker コンポーネント実装
- [ ] フィルターロジック実装
- [ ] データベースクエリ最適化
- [ ] UI/UX調整

**技術スタック**:
- `react-datepicker` または `shadcn/ui` DatePicker

**推定工数**: 2-3日

#### 2.4 自動スキャン機能

**概要**: フォルダの変更を自動検知して再スキャン

**タスク**:
- [ ] ファイルシステム監視実装（`tauri-plugin-fs-watch`）
- [ ] 増分スキャンロジック
- [ ] 設定UI（自動スキャンON/OFF、監視間隔）
- [ ] パフォーマンス影響の検証

**技術スタック**:
- `tauri-plugin-fs-watch`
- `notify` crate (Rust)

**推定工数**: 4-5日

---

### 3. バグ修正（Week 2-8、並行）

#### 3.1 Phase 12で報告されたバグ

**優先度: Critical**
- [ ] （ベータテスト後に追加）

**優先度: High**
- [ ] （ベータテスト後に追加）

**優先度: Medium**
- [ ] （ベータテスト後に追加）

---

### 4. パフォーマンス最適化（Week 4-6）

#### 4.1 メモリ使用量削減
- [ ] メモリプロファイリング
- [ ] 不要なデータのクリーンアップ
- [ ] キャッシュ戦略の見直し

#### 4.2 検索速度向上
- [ ] FTS5クエリ最適化
- [ ] インデックス最適化
- [ ] バッチ処理の改善

#### 4.3 スキャン速度向上
- [ ] 並列処理の改善
- [ ] ファイル読み込みの最適化
- [ ] Python分析エンジンの高速化

---

### 5. UI/UX改善（Week 3-7）

#### 5.1 ユーザーフィードバック反映
- [ ] （ベータテスト後に追加）

#### 5.2 デザイン改善
- [ ] ダークモード対応（検討）
- [ ] アイコン統一
- [ ] レスポンシブデザイン改善

#### 5.3 ユーザビリティ向上
- [ ] キーボードショートカット追加
- [ ] ツールチップ追加
- [ ] エラーメッセージの改善

---

### 6. プラットフォーム強化（Week 6-8）

#### 6.1 macOS コード署名

**概要**: Apple Developer アカウントでコード署名

**タスク**:
- [ ] Apple Developer アカウント取得（年間$99）
- [ ] 証明書の作成
- [ ] GitHub Actions への証明書追加
- [ ] 署名済みビルドの検証
- [ ] 公証（Notarization）対応

**推定工数**: 2-3日 + 申請待ち時間

#### 6.2 Apple Silicon Universal Binary

**概要**: Intel Mac と Apple Silicon の両方に対応

**タスク**:
- [ ] Universal Binary ビルド設定
- [ ] GitHub Actions での Universal Binary ビルド
- [ ] 両アーキテクチャでのテスト

**推定工数**: 1-2日

#### 6.3 Windows コード署名（検討）

**費用**: 年間 $200-$400
**優先度**: Low（v0.3.0以降で検討）

---

### 7. ドキュメント更新（Week 7-8）

#### 7.1 ユーザードキュメント
- [ ] README.md 更新（新機能追加）
- [ ] FAQ 更新
- [ ] インストールガイド更新
- [ ] ユーザーガイド作成（新規）

#### 7.2 開発者ドキュメント
- [ ] API ドキュメント作成
- [ ] アーキテクチャドキュメント
- [ ] コントリビューションガイド更新

#### 7.3 リリースドキュメント
- [ ] CHANGELOG 更新
- [ ] リリースノート作成（v0.2.0）
- [ ] マイグレーションガイド（必要に応じて）

---

### 8. テスト（Week 7-8）

#### 8.1 ユニットテスト
- [ ] フロントエンドテスト拡充
- [ ] Pythonテスト拡充
- [ ] Rustテスト追加

#### 8.2 統合テスト
- [ ] E2Eテストの追加
- [ ] クロスプラットフォームテスト

#### 8.3 パフォーマンステスト
- [ ] ベンチマーク実施
- [ ] メモリリークチェック
- [ ] 長時間稼働テスト

---

### 9. v0.2.0リリース（Week 8）

#### 9.1 リリース準備
- [ ] バージョン番号更新
- [ ] CHANGELOG 最終更新
- [ ] リリースノート完成
- [ ] 全プラットフォームでビルドテスト

#### 9.2 リリース実行
- [ ] タグ作成（v0.2.0）
- [ ] GitHub Release 作成
- [ ] ダウンロードリンク確認
- [ ] アナウンス

#### 9.3 ポストリリース
- [ ] ユーザーフィードバック監視
- [ ] バグ修正対応（v0.2.1の検討）

---

## 🎨 新機能詳細

### ファイルプレビュー

**UI イメージ**:
```
┌─────────────────────────────────────┐
│ 検索結果                              │
├─────────────────────────────────────┤
│ ■ report.pdf                  [👁] │
│ ■ memo.docx                   [👁] │
│ ■ data.xlsx                   [👁] │
└─────────────────────────────────────┘

クリック → モーダル表示
┌─────────────────────────────────────┐
│ report.pdf                      [✕]  │
├─────────────────────────────────────┤
│                                      │
│   [PDF内容をプレビュー表示]          │
│                                      │
│   ページ: 1 / 10      [<] [>]       │
└─────────────────────────────────────┘
```

**対応ファイル**:
- PDF: フルレンダリング
- テキスト: シンタックスハイライト
- 画像: 画像表示
- Office: サムネイル or 簡易プレビュー

### 正規表現検索

**UI イメージ**:
```
┌─────────────────────────────────────┐
│ 検索: [regex: \d{3}-\d{4}    ] [🔍] │
│ □ 正規表現モード                    │
└─────────────────────────────────────┘
```

**例**:
- 電話番号: `\d{3}-\d{4}-\d{4}`
- メールアドレス: `[\w\.-]+@[\w\.-]+\.\w+`
- 日付: `\d{4}/\d{2}/\d{2}`

---

## 📊 成功指標

### 定量的指標

| 指標 | 目標値 |
|-----|--------|
| バグ修正率 | 90%以上 |
| 新機能実装 | 4機能 |
| パフォーマンス改善 | 10%以上 |
| ドキュメント完成度 | 100% |
| ユーザー満足度 | 4.0/5.0以上 |

### 定性的指標

- [ ] ベータテストのフィードバックを反映
- [ ] 安定性の向上
- [ ] ユーザビリティの向上
- [ ] ドキュメントの充実

---

## 🚀 Phase 14プレビュー

Phase 13完了後、Phase 14（v0.3.0）を検討：

### Phase 14候補機能

- OCR機能（画像内テキスト抽出）
- クラウドストレージ統合
- データベースエクスポート/インポート
- プラグインシステム
- マルチ言語対応

---

## 📞 リソース

- **Phase 12計画**: `docs/PHASE12_PLAN.md`
- **Phase 11完了サマリー**: `docs/PHASE11_COMPLETION_SUMMARY.md`
- **リポジトリ**: https://github.com/muranaka-tenma/Cocofile

---

**作成日**: 2025年11月10日
**Phase**: Phase 13（v0.2.0開発）
**前フェーズ**: Phase 12（フィードバック収集）
**ステータス**: 📝 計画中

**プロジェクト**: CocoFile（ココファイル）
**愛称**: ココ
