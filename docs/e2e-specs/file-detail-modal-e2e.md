# ファイル詳細・編集モーダル（S-005）E2Eテスト仕様書

生成日: 2025-11-04
対象コンポーネント: FileDetailModal
総テスト項目数: 25項目

## テスト項目一覧

### 正常系（12項目）

1. モーダル表示 - ファイル選択時にモーダルが開く
2. ファイル情報表示 - パス、サイズ、日時が表示される
3. タグ表示 - 既存タグが全て表示される
4. タグ追加 - 新しいタグを追加できる
5. タグ削除 - タグを削除できる
6. メモ編集 - メモを編集できる
7. お気に入り切り替え - ON/OFFが切り替わる
8. ファイルを開く - デフォルトアプリで開く
9. フォルダを開く - エクスプローラーで開く
10. モーダルを閉じる - ×ボタンで閉じる
11. 変更保存 - 変更が保存される
12. Escキーで閉じる - キーボードで閉じられる

### 異常系（6項目）

13. ファイル未選択 - モーダルが開かない
14. 存在しないファイル - エラーメッセージ表示
15. 空のタグ - 追加できない
16. 重複タグ - 同じタグは追加できない
17. APIエラー - エラーメッセージ表示
18. ネットワークエラー - リトライ可能

### UI/UX（5項目）

19. ローディング状態 - データ読み込み中の表示
20. 未保存変更検出 - 変更時に保存ボタン有効化
21. 成功通知 - 保存成功時にトースト表示
22. キーボード操作 - Enterキーでタグ追加
23. レスポンシブ - モバイル表示対応

### 統合テスト（2項目）

24. 検索結果との連携 - 検索画面からモーダルを開ける
25. モーダル閉じた後の更新 - 検索結果が自動更新される

## 実装ファイル参照

- React実装: `frontend/src/components/FileDetailModal.tsx`
- Zustandストア: `frontend/src/store/fileDetailStore.ts`
- モックサービス: `frontend/src/services/mock/FileService.ts`
- 統合元: `frontend/src/screens/MainSearchScreen.tsx`
